Version: 2022-10-01
kind: Endpoint
metadata:
    name: banking_data_api
config:
    endpoints:
        baseurl:
            url: management.azure.com/{scope}
            params:
                scope:
                    name: scope
        reservationlist:
            relativeurl:
            base: baseurl
            relative: /providers/Microsoft.Capicity/reservation
            params:
                reservationOrderId:
                    param: reservationOrderId
    params:
        reservationOrderId:
            name: reservationOrderId
            type: String
            resolver: DBReservationLoader
        scope:
            name: scope
            type: String
            descr: Scope used in retrieval of something
    resolvers:
        DBReservationLoader:
            kind: DatabaseLoader
            connectionstring: "Some string that should be put into a secret"
            authentication: 
                method: NameAndKey
            table:
                name: Configuration
                col: ['Id']
            

    


    